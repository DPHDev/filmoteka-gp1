{"mappings":"AAEOA,eAAeC,EAAUC,GAC9B,IAAIC,EAAM,4FAAqED,IAC/EE,QAAQC,IAAIF,GACZ,MAAMG,QAAiBC,MAAMJ,GAE7B,aADmBG,EAASE,M,CAIvBR,eAAeS,EAASP,GAC7B,IAAIC,EAAM,sCAAsCD,6CAChD,MAAMI,QAAiBC,MAAMJ,GAE7B,aADmBG,EAASE,M,CCbvB,SAASE,EAAUC,GACxB,IAAIC,EAAa,GAGjB,IAAK,MAAMC,KAAUF,EACnBP,QAAQC,IAAIQ,EAAOC,IACnBF,GAAc,wHAC4DC,EAAOE,yBAAyBF,EAAOC,+IAE5DD,EAAOG,6EACTH,EAAOI,6GAI5D,OAAOL,C,CAGF,SAASM,EAAgBC,GAC9B,KAAOA,EAAQC,iBACbD,EAAQE,YAAYF,EAAQG,W,CChBhC,MAAMC,EAAaC,SAASC,eAAe,eAC3C,IAAIC,EAAUF,SAASC,eAAe,YFa/BzB,iBAEL,MAAMM,QAAiBC,MADb,2FAGV,aADmBD,EAASE,M,EEd9B,GACGmB,MAAKC,IACJF,EAAQG,mBAAmB,aAAcnB,EAAUkB,EAAKjB,UACxDP,QAAQC,IAAIuB,EAAKjB,QAAQ,IAE1BmB,OAAMC,IAEL3B,QAAQC,IAAI,wBAAyB0B,EAAM,IAG/CR,EAAWS,iBAAiB,UAAUC,IACpCA,EAAEC,iBACF,IAAIhC,EAAQqB,EAAWY,YAAYC,MACnChC,QAAQC,IAAIH,GACZD,EAAUC,GACPyB,MAAKC,IACJxB,QAAQC,IAAI,aACZD,QAAQC,IAAIuB,EAAKjB,SACU,GAAvBiB,EAAKjB,QAAQ0B,OACfjC,QAAQC,IAAI,oCAEZD,QAAQC,IAAIK,EAAUkB,EAAKjB,UAC3BO,EAAgBQ,GAChBA,EAAQG,mBAAmB,aAAcnB,EAAUkB,EAAKjB,U,IAG3DmB,OAAMC,IAEL3B,QAAQC,IAAI,wBAAyB0B,EAAM,GAC3C,IAGNL,EAAQM,iBAAiB,SAASC,IAChCA,EAAEC,iBACF,MAAMpB,EAAKmB,EAAEK,OAAOC,QAAQzB,GAC5BV,QAAQC,IAAIS,GACZL,IAAWkB,MAAKC,IACdxB,QAAQC,IAAIuB,EAAK,GACjB","sources":["src/js/fetchMovie.js","src/js/funtions.js","src/index.js"],"sourcesContent":["const apiKey = '050776d92f59975128a30e8f83c93796';\n\nexport async function getMovies(query) {\n  let url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${query}`;\n  console.log(url);\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n\nexport async function getMovie(query) {\n  let url = `https://api.themoviedb.org/3/movie/${query}?api_key=${apiKey}`;\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n\nexport async function getMovieWeek() {\n  let url = `https://api.themoviedb.org/3/trending/all/week?api_key=${apiKey}`;\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n","export function printCard(results) {\n  let insertCard = '';\n\n  const baseImageUrl = 'https://image.tmdb.org/t/p/';\n  for (const result of results) {\n    console.log(result.id);\n    insertCard += `<div class=\"gallery__card\">\n                          <img class=\"gallery__img\" src=\"${baseImageUrl}w300${result.poster_path}\" data-id=\"${result.id}\" alt=\"\" loading=\"lazy\" />\n                          <div class=\"gallery__info\">\n                            <h2 class=\"gallery__title\">${result.original_title}</h2>\n                            <p class=\"gallery__text\">${result.release_date}</p>                         \n                          </div>\n                       </div>`;\n  }\n  return insertCard;\n}\n\nexport function deletechildrens(element) {\n  while (element.hasChildNodes()) {\n    element.removeChild(element.firstChild);\n  }\n}\n","import { getMovies, getMovieWeek, getMovie } from './js/fetchMovie';\nimport { printCard, deletechildrens } from './js/funtions';\n\nconst searchForm = document.getElementById('search-form');\nlet gallery = document.getElementById('gallery');\n\ngetMovieWeek()\n  .then(data => {\n    gallery.insertAdjacentHTML('afterbegin', printCard(data.results));\n    console.log(data.results);\n  })\n  .catch(error => {\n    // Manejo de errores\n    console.log('Ha ocurrido un error:', error);\n  });\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  let query = searchForm.searchQuery.value;\n  console.log(query);\n  getMovies(query)\n    .then(data => {\n      console.log('Ejecutado');\n      console.log(data.results);\n      if (data.results.length == 0) {\n        console.log('No se encontraron resultados...');\n      } else {\n        console.log(printCard(data.results));\n        deletechildrens(gallery);\n        gallery.insertAdjacentHTML('afterbegin', printCard(data.results));\n      }\n    })\n    .catch(error => {\n      // Manejo de errores\n      console.log('Ha ocurrido un error:', error);\n    });\n});\n\ngallery.addEventListener('click', e => {\n  e.preventDefault();\n  const id = e.target.dataset.id;\n  console.log(id);\n  getMovie().then(data => {\n    console.log(data);\n  });\n});\n"],"names":["async","$a0cac08c197f45b6$export$60e1c8f5f122c5ac","query","url","console","log","response","fetch","json","$a0cac08c197f45b6$export$bdba5afeee6501b","$8fa11023193f9cf3$export$701859dc950eff86","results","insertCard","result","id","poster_path","original_title","release_date","$8fa11023193f9cf3$export$7c80fe6cff5b657a","element","hasChildNodes","removeChild","firstChild","$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","then","data","insertAdjacentHTML","catch","error","addEventListener","e","preventDefault","searchQuery","value","length","target","dataset"],"version":3,"file":"index.01c0fedd.js.map"}