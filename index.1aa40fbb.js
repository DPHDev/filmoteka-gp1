var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequired76b;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},e.parcelRequired76b=o);var n=o("2I93e"),l=o("2WKNU"),i=o("2Tvkn"),r=o("2gb0b");n=o("2I93e"),i=o("2Tvkn"),l=o("2WKNU"),r=o("2gb0b");let s={listPages:document.getElementById("pages-list")};function d(){let e="",t=i.total_pgs-2;switch(!0){case i.pageNow<=3:for(let t=1;t<=5;t++)e+=`<li><button id="num-page-btn">${t}</button></li>`;e+=`<li>...</li>\n            <li><button id="num-page-btn">${i.total_pgs}</button></li>`,s.listPages.innerHTML=e;break;case i.pageNow>=t:e+='<li><button id="num-page-btn">1</button></li><li>...</li>';for(let t=i.pageNow-2;t<=i.total_pgs;t++)e+=`<li><button id="num-page-btn">${t}</button></li>`;s.listPages.innerHTML=e;break;case i.pageNow>3&&i.pageNow<t:e+='<li><button id="num-page-btn">1</button></li><li>...</li>';for(let t=i.pageNow-2;t<=i.pageNow+2;t++)e+=`<li><button id="num-page-btn">${t}</button></li>`;e+=`<li>...</li>\n            <li><button id="num-page-btn">${i.total_pgs}</button></li>`,s.listPages.innerHTML=e;break;default:console.log("Caso no reconocido")}}var c=o("jldNE"),u=o("31u3U");o("eobyt");const{movieName:g,onSearchBtn:v,modalContainer:p,modalP:m,modalCloseBtn:b,modalQueueBtn:w,modalWatchedBtn:E,buttonWatchet:y,buttonQueue:f,buttons:k,clearWatched:A,clearQueue:M,library:h,filmsRender:N,home:D,error:C,openModalFooter:L,closeModalFooter:O,modalFooter:P,scrollTopBtn:T}=l.varDOM;let I;async function q(e,t,a){return new Promise((o=>{o((0,i.renderPost)(e,t,a))}))}!async function(e){const t=await n.getAPI.trendMovies(e),a=await n.getAPI.genres();I=a.slice(),await q(t,e,a),d(),document.getElementById("pg-contoler").addEventListener("click",(async e=>{if(e.target&&e.target.matches("#num-page-btn")){const t=e.target,o=await n.getAPI.trendMovies(t.textContent);await q(o,t.textContent,a),d(),console.log(i.pageNow);document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{p.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}else if(e.target&&e.target.matches("#pg-advance-btn")){pageAdv=i.pageNow===i.total_pgs?i.pageNow:i.pageNow+1;const e=await n.getAPI.trendMovies(pageAdv);await q(e,pageAdv,a),d(),console.log(i.pageNow);document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{p.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}else if(e.target&&e.target.matches("#pg-back-btn")){pageBack=1===i.pageNow?i.pageNow:i.pageNow-1;const e=await n.getAPI.trendMovies(pageBack);await q(e,pageBack,a),d(),console.log(i.pageNow);document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{p.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}})),document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{p.style.display="block",(0,r.detailsMovieValues)(t.dataset.id),E.textContent="ADD TO WATCHED",w.textContent="ADD TO QUEUE",1==(0,u.searchId)(t.dataset.id,"Watched")&&(E.textContent="REMOVE FROM WHATCHED",console.log((0,u.searchId)(t.dataset.id,"Watched"))),1==(0,u.searchId)(t.dataset.id,"Queue")&&(w.textContent="REMOVE FROM QUEUE")}))}))}(1),v.addEventListener("click",(async()=>{if(""==g.value)return window.alert("Please write something!");{const e=await n.getAPI.movies(g.value.trim(),1);if(console.log(e.data.total_results),e.data.total_results>=1){await q(e,1,I),d(),document.getElementById("pg-contoler").addEventListener("click",(async e=>{if(e.target&&e.target.matches("#num-page-btn")){const t=e.target,a=await n.getAPI.genres(),o=await n.getAPI.movies(l.varDOM.movieName.value.trim(),t.textContent);await(0,i.renderPost)(o,t,a),d(),t.classList.add("pag-active"),document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{l.varDOM.modalContainer.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}else if(e.target&&e.target.matches("#pg-advance-btn")){const e=i.pageNow+1,t=await n.getAPI.genres(),a=await n.getAPI.movies(l.varDOM.movieName.value.trim(),e);await(0,i.renderPost)(a,e,t),console.log(`page: ${i.pageNow}`),d(),document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{l.varDOM.modalContainer.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}else if(e.target&&e.target.matches("#pg-back-btn")){const e=1===i.pageNow?i.pageNow:i.pageNow-1,t=await n.getAPI.genres(),a=await n.getAPI.movies(l.varDOM.movieName.value.trim(),e);await(0,i.renderPost)(a,e,t),console.log(a.data.total_results),d(),document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{l.varDOM.modalContainer.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}}));document.querySelectorAll(".movie-card").forEach((e=>{const t=e.querySelector("a");e.addEventListener("click",(()=>{p.style.display="block",(0,r.detailsMovieValues)(t.dataset.id)}))}))}else C.innerHTML="No se encontraron Resultados"}})),g.addEventListener("keydown",(e=>{13===e.keyCode&&(e.preventDefault(),v.click())})),w.addEventListener("click",(e=>{e.preventDefault(),"ADD TO QUEUE"==w.textContent?((0,u.setQueue)(w.value),w.textContent="REMOVE FROM QUEUE"):((0,u.removeQueue)(w.value),w.textContent="ADD TO QUEUE",console.log("remove"))})),E.addEventListener("click",(e=>{e.preventDefault(),"ADD TO WATCHED"==E.textContent?((0,u.setWatched)(E.value),E.textContent="REMOVE FROM WATCHED"):((0,u.removeWatched)(E.value),E.textContent="ADD TO WATCHED",console.log("remove"))})),L.addEventListener("click",(()=>{P.style.display="block"})),O.addEventListener("click",(()=>{P.style.display="none"})),window.addEventListener("scroll",c.scrollTop),T.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})})),b.addEventListener("click",(()=>{p.style.display="none"}));
//# sourceMappingURL=index.1aa40fbb.js.map
