{"mappings":"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","sources":["src/js/library.js"],"sourcesContent":["import {\n    setQueue,\n    setWatched,\n    getQueue,\n    getWatched,\n    getGenre,\n    deletechildrens,  \n    searchId \n} from './localStorage';\n\nimport { getMovie } from \"../js/request-api\";\nimport { printCard } from \"../js/renderPost\";\nimport { varDOM } from \"./var-selector-dom\";\nimport { scrollTop } from './scroll-top';\nconst{modalContainer, modalQueueBtn, modalWatchedBtn, modalCloseBtn}=varDOM;\nimport { detailsMovieValues } from \"./modal-movie-details\";\nimport { theme } from './theme-dark';\n\nfilmsRender = document.getElementById('films');\nbuttonWatchet = document.getElementById('buttonWatchet');\nbuttonQueue = document.getElementById('buttonQueue')\nclearWatched = document.getElementById('clearWatched');\nclearQueue = document.getElementById('clearQueue');\nimage = document.getElementById('image');\nremoveWatche = document.getElementById('removeWatche');\nremoveQueue = document.getElementById('removeQweue');\naddWatched = document.getElementById('watch-button');\naddQueue = document.getElementById('queue-button');\nscrollTopBtn = document.querySelector('.back-to-top');\n\n    let ids = getWatched();  \n  //   buttons.style.display = 'block';\n    if (ids === null) {\n      filmsRender.innerHTML = `Oops! Your \"watched\" library is empty!`;\n      clearWatched.style.display = \"none\";\n      clearQueue.style.display = \"none\";\n      buttonWatchet.focus();\n    }else{      \n      buttonWatchet.focus();\n      clearQueue.style.display = 'none';\n      deletechildrens(filmsRender);\n      if (ids.length === undefined) {\n        getMovie(ids)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } else {\n        for (const id of ids) {\n          getMovie(id)\n            .then(data => {\n              filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n            })\n            .catch(error => {\n              console.log(error);\n            });\n        }\n      }\n    }\n \n  \n  buttonWatchet.addEventListener('click', e => {\n    buttonWatchet.focus();\n    e.preventDefault();\n    let ids = getWatched();\n    clearQueue.style.display = 'none';\n    if (ids === null) {\n      filmsRender.innerHTML = `Oops! Your \"watched\" library is empty!`;\n    } else {\n      clearWatched.style.display = 'block';\n      deletechildrens(filmsRender);\n      if (ids.length === undefined) {\n        getMovie(ids)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } else {\n        \n        for (const id of ids) {\n          getMovie(id)\n            .then(data => {\n              filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n            })\n            .catch(error => {\n              console.log(error);\n            });\n        }\n      }\n    }\n  });\n  \n  buttonQueue.addEventListener('click', e => {\n    buttonQueue.focus();\n    e.preventDefault();\n    let ids = getQueue();\n    clearWatched.style.display = 'none';\n    if (ids === null) {\n      filmsRender.innerHTML = `Oops! Your \"Queue\" library is empty!`;\n    } else {\n      clearQueue.style.display = 'block';\n      deletechildrens(filmsRender);\n      if (ids.length === undefined) {\n        getMovie(ids)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } else {\n        for (const id of ids) {\n          getMovie(id)\n            .then(data => {\n              filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n            })\n            .catch(error => {\n              console.log(error);\n            });\n        }\n      }\n    }\n  }); \n  \n  clearWatched.addEventListener('click', e => {\n    localStorage.removeItem('Watched');\n    deletechildrens(filmsRender);\n    clearWatched.style.display = 'none';\n    location.reload();\n  });\n  \n  clearQueue.addEventListener('click', e => {\n    localStorage.removeItem('Queue');\n    deletechildrens(filmsRender);\n    clearQueue.style.display = 'none';\n    location.reload();\n  }); \n  \n  filmsRender.addEventListener('click', (e)=>{\n      e.preventDefault();      \n      modalContainer.style.display='block';\n      detailsMovieValues(e.target.dataset.id);     \n      modalWatchedBtn.textContent = \"ADD TO WATCHED\";\n      modalQueueBtn.textContent = \"ADD TO QUEUE\";\n      if(searchId(e.target.dataset.id, 'Watched') == true){\n        modalWatchedBtn.textContent = \"REMOVE FROM WATCHED\";\n      }\n      if(searchId(e.target.dataset.id, 'Queue')){\n        modalQueueBtn.textContent = \"REMOVE FROM QUEUE\";\n      } \n  });\n\n  \nmodalQueueBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if(modalQueueBtn.textContent == \"ADD TO QUEUE\"){\n    setQueue(modalQueueBtn.value);\n    modalQueueBtn.textContent = 'REMOVE FROM QUEUE'\n  }else{\n    removeQueue(modalQueueBtn.value);\n    modalQueueBtn.textContent = 'ADD TO QUEUE'\n    console.log('remove');\n  }\n\n  location.reload();\n  \n});\n\nmodalWatchedBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if(modalWatchedBtn.textContent == \"ADD TO WATCHED\"){\n    setWatched(modalWatchedBtn.value);\n    modalWatchedBtn.textContent = 'REMOVE FROM WATCHED'\n  }else{\n    removeWatched(modalWatchedBtn.value);\n    modalWatchedBtn.textContent = 'ADD TO WATCHED'\n    console.log('remove');\n  } \n  location.reload();\n});\n\n  modalCloseBtn.addEventListener('click', (e)=>{\n      e.preventDefault();\n      modalContainer.style.display='none';\n  });\n\n\n// Scroll button to top\nwindow.addEventListener('scroll', scrollTop);\n\nscrollTopBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});"],"names":["$UL92Z","parcelRequire","$93effc6fc56091ad$var$modalContainer","$eaChm","varDOM","modalContainer","$93effc6fc56091ad$var$modalQueueBtn","modalQueueBtn","$93effc6fc56091ad$var$modalWatchedBtn","modalWatchedBtn","$93effc6fc56091ad$var$modalCloseBtn","modalCloseBtn","filmsRender","document","getElementById","buttonWatchet","buttonQueue","clearWatched","clearQueue","image","removeWatche","removeQueue","addWatched","addQueue","scrollTopBtn","querySelector","$93effc6fc56091ad$var$ids","getWatched","innerHTML","style","display","focus","deletechildrens","$93effc6fc56091ad$var$_iteratorNormalCompletion","$93effc6fc56091ad$var$_didIteratorError","$93effc6fc56091ad$var$_iteratorError","undefined","length","$ikj7U","getMovie","then","data","insertAdjacentHTML","$25beE","printCard","catch","error","console","log","$93effc6fc56091ad$var$_step","$93effc6fc56091ad$var$_iterator","Symbol","iterator","next","done","$93effc6fc56091ad$var$id","value","err","return","addEventListener","e","preventDefault","ids1","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","id","ids2","getQueue","localStorage","removeItem","location","reload","$i1PHi","detailsMovieValues","target","dataset","textContent","searchId","setQueue","setWatched","removeWatched","window","$isQdP","scrollTop","scrollTo","top","behavior"],"version":3,"file":"my-library.a2e354d9.js.map"}