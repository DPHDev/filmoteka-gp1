{"mappings":"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","sources":["src/js/library.js"],"sourcesContent":["import {\n  setQueue,\n  setWatched,\n  getQueue,\n  getWatched,\n  getGenre,\n  deletechildrens,\n  searchId,\n} from './localStorage';\n\nimport { getMovie } from '../js/request-api';\nimport { printCard } from '../js/renderPost';\nimport { varDOM } from './var-selector-dom';\nimport { scrollTop } from './scroll-top';\nconst {\n  modalContainer,\n  modalQueueBtn,\n  modalWatchedBtn,\n  modalCloseBtn,\n  openModalFooter,\n  closeModalFooter,\n  modalFooter\n} = varDOM;\nimport { detailsMovieValues } from './modal-movie-details';\nimport { theme } from './theme-dark';\n\nconst filmsRender = document.getElementById('films');\nconst buttonWatchet = document.getElementById('buttonWatchet');\nconst buttonQueue = document.getElementById('buttonQueue');\nconst clearWatched = document.getElementById('clearWatched');\nconst clearQueue = document.getElementById('clearQueue');\nconst image = document.getElementById('image');\nconst removeWatche = document.getElementById('removeWatche');\nconst removeQueue = document.getElementById('removeQweue');\nconst addWatched = document.getElementById('watch-button');\nconst addQueue = document.getElementById('queue-button');\nconst scrollTopBtn = document.querySelector('.back-to-top');\n\nlet ids = getWatched();\n//   buttons.style.display = 'block';\nif (ids === null) {\n  filmsRender.innerHTML = `Oops! Your \"watched\" library is empty!`;\n  clearWatched.style.display = 'none';\n  clearQueue.style.display = 'none';\n  buttonWatchet.focus();\n} else {\n  buttonWatchet.focus();\n  clearQueue.style.display = 'none';\n  deletechildrens(filmsRender);\n  if (ids.length === undefined) {\n    getMovie(ids)\n      .then(data => {\n        filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  } else {\n    for (const id of ids) {\n      getMovie(id)\n        .then(data => {\n          filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    }\n  }\n}\n\nbuttonWatchet.addEventListener('click', e => {\n  buttonWatchet.focus();\n  e.preventDefault();\n  let ids = getWatched();\n  clearQueue.style.display = 'none';\n  if (ids === null) {\n    filmsRender.innerHTML = `Oops! Your \"watched\" library is empty!`;\n  } else {\n    clearWatched.style.display = 'block';\n    deletechildrens(filmsRender);\n    if (ids.length === undefined) {\n      getMovie(ids)\n        .then(data => {\n          filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    } else {\n      for (const id of ids) {\n        getMovie(id)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    }\n  }\n});\n\nbuttonQueue.addEventListener('click', e => {\n  buttonQueue.focus();\n  e.preventDefault();\n  let ids = getQueue();\n  clearWatched.style.display = 'none';\n  if (ids === null) {\n    filmsRender.innerHTML = `Oops! Your \"Queue\" library is empty!`;\n  } else {\n    clearQueue.style.display = 'block';\n    deletechildrens(filmsRender);\n    if (ids.length === undefined) {\n      getMovie(ids)\n        .then(data => {\n          filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    } else {\n      for (const id of ids) {\n        getMovie(id)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    }\n  }\n});\n\nclearWatched.addEventListener('click', e => {\n  localStorage.removeItem('Watched');\n  deletechildrens(filmsRender);\n  clearWatched.style.display = 'none';\n  location.reload();\n});\n\nclearQueue.addEventListener('click', e => {\n  localStorage.removeItem('Queue');\n  deletechildrens(filmsRender);\n  clearQueue.style.display = 'none';\n  location.reload();\n});\n\nfilmsRender.addEventListener('click', e => {\n  e.preventDefault();\n  modalContainer.style.display = 'block';\n  detailsMovieValues(e.target.dataset.id);\n  modalWatchedBtn.textContent = 'ADD TO WATCHED';\n  modalQueueBtn.textContent = 'ADD TO QUEUE';\n  if (searchId(e.target.dataset.id, 'Watched') == true) {\n    modalWatchedBtn.textContent = 'REMOVE FROM WATCHED';\n  }\n  if (searchId(e.target.dataset.id, 'Queue')) {\n    modalQueueBtn.textContent = 'REMOVE FROM QUEUE';\n  }\n});\n\nmodalQueueBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if (modalQueueBtn.textContent == 'ADD TO QUEUE') {\n    setQueue(modalQueueBtn.value);\n    modalQueueBtn.textContent = 'REMOVE FROM QUEUE';\n  } else {\n    removeQueue(modalQueueBtn.value);\n    modalQueueBtn.textContent = 'ADD TO QUEUE';\n    console.log('remove');\n  }\n\n  location.reload();\n});\n\nmodalWatchedBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if (modalWatchedBtn.textContent == 'ADD TO WATCHED') {\n    setWatched(modalWatchedBtn.value);\n    modalWatchedBtn.textContent = 'REMOVE FROM WATCHED';\n  } else {\n    removeWatched(modalWatchedBtn.value);\n    modalWatchedBtn.textContent = 'ADD TO WATCHED';\n    console.log('remove');\n  }\n  location.reload();\n});\n\nmodalCloseBtn.addEventListener('click', e => {\n  e.preventDefault();\n  modalContainer.style.display = 'none';\n});\n\n// Scroll button to top\nwindow.addEventListener('scroll', scrollTop);\n\nscrollTopBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n\n\n// // Footer modal\n\n// openModalFooter.addEventListener('click', () => {\n//   modalFooter.style.display = 'block';\n// });\n// closeModalFooter.addEventListener('click', () => {\n//   modalFooter.style.display = 'none';\n// });\n"],"names":["$31u3U","parcelRequire","modalContainer","$1cafa503bc57b7a0$var$modalContainer","modalQueueBtn","$1cafa503bc57b7a0$var$modalQueueBtn","modalWatchedBtn","$1cafa503bc57b7a0$var$modalWatchedBtn","modalCloseBtn","$1cafa503bc57b7a0$var$modalCloseBtn","openModalFooter","$1cafa503bc57b7a0$var$openModalFooter","closeModalFooter","$1cafa503bc57b7a0$var$closeModalFooter","modalFooter","$1cafa503bc57b7a0$var$modalFooter","$2WKNU","varDOM","$1cafa503bc57b7a0$var$filmsRender","document","getElementById","$1cafa503bc57b7a0$var$buttonWatchet","$1cafa503bc57b7a0$var$buttonQueue","$1cafa503bc57b7a0$var$clearWatched","$1cafa503bc57b7a0$var$clearQueue","$1cafa503bc57b7a0$var$removeQueue","$1cafa503bc57b7a0$var$scrollTopBtn","querySelector","$1cafa503bc57b7a0$var$ids","getWatched","innerHTML","style","display","focus","deletechildrens","undefined","length","$2I93e","getMovie","then","data","insertAdjacentHTML","$2Tvkn","printCard","catch","error","console","log","id","addEventListener","e","preventDefault","ids1","ids2","getQueue","localStorage","removeItem","location","reload","$2gb0b","detailsMovieValues","target","dataset","textContent","searchId","setQueue","value","setWatched","removeWatched","window","$jldNE","scrollTop","scrollTo","top","behavior"],"version":3,"file":"my-library.e58aad6d.js.map"}