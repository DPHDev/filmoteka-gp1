{"mappings":"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","sources":["src/js/library.js"],"sourcesContent":["import {\n    setQueue,\n    setWatched,\n    getQueue,\n    getWatched,\n    getGenre,\n    deletechildrens,  \n    searchId \n} from './localStorage';\n\nimport { getMovie } from \"../js/request-api\";\nimport { printCard } from \"../js/renderPost\";\nimport { varDOM } from \"./var-selector-dom\";\nimport { scrollTop } from './scroll-top';\nconst{modalContainer, modalQueueBtn, modalWatchedBtn, modalCloseBtn}=varDOM;\nimport { detailsMovieValues } from \"./modal-movie-details\";\nimport { theme } from './theme-dark';\n\nfilmsRender = document.getElementById('films');\nbuttonWatchet = document.getElementById('buttonWatchet');\nbuttonQueue = document.getElementById('buttonQueue')\nclearWatched = document.getElementById('clearWatched');\nclearQueue = document.getElementById('clearQueue');\nimage = document.getElementById('image');\nremoveWatche = document.getElementById('removeWatche');\nremoveQueue = document.getElementById('removeQweue');\naddWatched = document.getElementById('watch-button');\naddQueue = document.getElementById('queue-button');\nscrollTopBtn = document.querySelector('.back-to-top');\n\n    let ids = getWatched();  \n  //   buttons.style.display = 'block';\n    if (ids === null) {\n      filmsRender.innerHTML = `Oops! Your \"watched\" library is empty!`;\n      clearWatched.style.display = \"none\";\n      clearQueue.style.display = \"none\";\n      buttonWatchet.focus();\n    }else{      \n      buttonWatchet.focus();\n      clearQueue.style.display = 'none';\n      deletechildrens(filmsRender);\n      if (ids.length === undefined) {\n        getMovie(ids)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } else {\n        for (const id of ids) {\n          getMovie(id)\n            .then(data => {\n              filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n            })\n            .catch(error => {\n              console.log(error);\n            });\n        }\n      }\n    }\n \n  \n  buttonWatchet.addEventListener('click', e => {\n    buttonWatchet.focus();\n    e.preventDefault();\n    let ids = getWatched();\n    clearQueue.style.display = 'none';\n    if (ids === null) {\n      filmsRender.innerHTML = `Oops! Your \"watched\" library is empty!`;\n    } else {\n      clearWatched.style.display = 'block';\n      deletechildrens(filmsRender);\n      if (ids.length === undefined) {\n        getMovie(ids)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } else {\n        \n        for (const id of ids) {\n          getMovie(id)\n            .then(data => {\n              filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n            })\n            .catch(error => {\n              console.log(error);\n            });\n        }\n      }\n    }\n  });\n  \n  buttonQueue.addEventListener('click', e => {\n    buttonQueue.focus();\n    e.preventDefault();\n    let ids = getQueue();\n    clearWatched.style.display = 'none';\n    if (ids === null) {\n      filmsRender.innerHTML = `Oops! Your \"Queue\" library is empty!`;\n    } else {\n      clearQueue.style.display = 'block';\n      deletechildrens(filmsRender);\n      if (ids.length === undefined) {\n        getMovie(ids)\n          .then(data => {\n            filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } else {\n        for (const id of ids) {\n          getMovie(id)\n            .then(data => {\n              filmsRender.insertAdjacentHTML('beforeend', printCard(data));\n            })\n            .catch(error => {\n              console.log(error);\n            });\n        }\n      }\n    }\n  }); \n  \n  clearWatched.addEventListener('click', e => {\n    localStorage.removeItem('Watched');\n    deletechildrens(filmsRender);\n    clearWatched.style.display = 'none';\n    location.reload();\n  });\n  \n  clearQueue.addEventListener('click', e => {\n    localStorage.removeItem('Queue');\n    deletechildrens(filmsRender);\n    clearQueue.style.display = 'none';\n    location.reload();\n  }); \n  \n  filmsRender.addEventListener('click', (e)=>{\n      e.preventDefault();      \n      modalContainer.style.display='block';\n      detailsMovieValues(e.target.dataset.id);     \n      modalWatchedBtn.textContent = \"ADD TO WATCHED\";\n      modalQueueBtn.textContent = \"ADD TO QUEUE\";\n      if(searchId(e.target.dataset.id, 'Watched') == true){\n        modalWatchedBtn.textContent = \"REMOVE FROM WATCHED\";\n      }\n      if(searchId(e.target.dataset.id, 'Queue')){\n        modalQueueBtn.textContent = \"REMOVE FROM QUEUE\";\n      } \n  });\n\n  \nmodalQueueBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if(modalQueueBtn.textContent == \"ADD TO QUEUE\"){\n    setQueue(modalQueueBtn.value);\n    modalQueueBtn.textContent = 'REMOVE FROM QUEUE'\n  }else{\n    removeQueue(modalQueueBtn.value);\n    modalQueueBtn.textContent = 'ADD TO QUEUE'\n    console.log('remove');\n  }\n\n  location.reload();\n  \n});\n\nmodalWatchedBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if(modalWatchedBtn.textContent == \"ADD TO WATCHED\"){\n    setWatched(modalWatchedBtn.value);\n    modalWatchedBtn.textContent = 'REMOVE FROM WATCHED'\n  }else{\n    removeWatched(modalWatchedBtn.value);\n    modalWatchedBtn.textContent = 'ADD TO WATCHED'\n    console.log('remove');\n  } \n  location.reload();\n});\n\n  modalCloseBtn.addEventListener('click', (e)=>{\n      e.preventDefault();\n      modalContainer.style.display='none';\n  });\n\n\n// Scroll button to top\nwindow.addEventListener('scroll', scrollTop);\n\nscrollTopBtn.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});"],"names":["$31u3U","parcelRequire","modalContainer","$1cafa503bc57b7a0$var$modalContainer","modalQueueBtn","$1cafa503bc57b7a0$var$modalQueueBtn","modalWatchedBtn","$1cafa503bc57b7a0$var$modalWatchedBtn","modalCloseBtn","$1cafa503bc57b7a0$var$modalCloseBtn","$2WKNU","varDOM","filmsRender","document","getElementById","buttonWatchet","buttonQueue","clearWatched","clearQueue","image","removeWatche","removeQueue","addWatched","addQueue","scrollTopBtn","querySelector","$1cafa503bc57b7a0$var$ids","getWatched","innerHTML","style","display","focus","deletechildrens","undefined","length","$2I93e","getMovie","then","data","insertAdjacentHTML","$2Tvkn","printCard","catch","error","console","log","id","addEventListener","e","preventDefault","ids1","ids2","getQueue","localStorage","removeItem","location","reload","$2gb0b","detailsMovieValues","target","dataset","textContent","searchId","setQueue","value","setWatched","removeWatched","window","$jldNE","scrollTop","scrollTo","top","behavior"],"version":3,"file":"my-library.8dea0a0d.js.map"}